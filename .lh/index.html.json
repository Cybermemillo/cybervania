{
    "sourceFile": "index.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1741025960082,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741026195124,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,145 +2,63 @@\n <html lang=\"es\">\r\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n     <title>Cybervania</title>\r\n-    <link rel=\"stylesheet\" href=\"css/main.css\">\r\n     <link rel=\"stylesheet\" href=\"css/menu.css\">\r\n-    \r\n-    <!-- Disable Tailwind warning about production use -->\r\n-    <script>window.tailwindConfig = { hideConfigWorkerWarning: true }</script>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n-    \r\n-    <!-- External libraries sin integrity check para evitar problemas -->\r\n-    <script src=\"https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js\"></script>\r\n-    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js\"></script>\r\n-    \r\n-    <!-- Preconectar a dominios externos -->\r\n-    <link rel=\"preconnect\" href=\"https://cdn.jsdelivr.net\">\r\n-    <link rel=\"preconnect\" href=\"https://cdnjs.cloudflare.com\">\r\n-    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n     <!-- Precargar la fuente -->\r\n     <link rel=\"preload\" href=\"assets/fonts/neogothic.woff2\" as=\"font\" type=\"font/woff2\" crossorigin>\r\n+    \r\n+    <!-- Favicon -->\r\n+    <link rel=\"icon\" type=\"image/png\" href=\"assets/images/favicon.png\">\r\n </head>\r\n-<body class=\"bg-black text-white overflow-hidden\">\r\n-    <!-- Audio context unlock indicator -->\r\n-    <div id=\"audio-indicator\" class=\"fixed top-2 right-2 bg-red-800 text-white px-4 py-2 rounded opacity-0 transition-opacity duration-500\">\r\n+<body>\r\n+    <!-- Audio indicator discreto -->\r\n+    <div id=\"audio-indicator\" class=\"notification\" style=\"opacity: 0;\">\r\n         Haz clic para activar audio\r\n     </div>\r\n     \r\n-    <div id=\"game-container\" class=\"w-full h-screen flex justify-center items-center\">\r\n-        <!-- El juego se renderizará aquí -->\r\n-    </div>\r\n-    \r\n-    <div id=\"loading-screen\" class=\"fixed top-0 left-0 w-full h-full bg-black flex justify-center items-center z-50\">\r\n-        <div class=\"text-center\">\r\n-            <h1 class=\"text-4xl font-gothic mb-4 text-red-600\">CYBERVANIA</h1>\r\n-            <div class=\"w-64 h-4 bg-gray-800 rounded-full\">\r\n-                <div id=\"loading-bar\" class=\"h-4 bg-red-600 rounded-full\" style=\"width: 0%\"></div>\r\n-            </div>\r\n-            <p id=\"loading-text\" class=\"mt-2 text-gray-400\">Cargando...</p>\r\n-            <button id=\"start-button\" class=\"hidden mt-4 px-4 py-2 bg-red-800 text-white rounded\">\r\n-                Iniciar Juego\r\n-            </button>\r\n-        </div>\r\n-    </div>\r\n-    \r\n+    <!-- Contenedor principal del menú -->\r\n     <div id=\"menu-container\">\r\n         <!-- El menú se generará dinámicamente desde JS -->\r\n     </div>\r\n \r\n-    <!-- Script para activar audio -->\r\n+    <!-- Script de inicialización de audio -->\r\n     <script>\r\n-        document.addEventListener('DOMContentLoaded', function() {\r\n-            // Verificar que Phaser esté cargado\r\n-            if (typeof Phaser === 'undefined') {\r\n-                console.error('Phaser no está cargado correctamente. Reintentando...');\r\n-                // Cargar Phaser dinámicamente como último recurso\r\n-                const phaserScript = document.createElement('script');\r\n-                phaserScript.src = \"https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js\";\r\n-                phaserScript.onload = function() {\r\n-                    console.log('Phaser cargado manualmente');\r\n-                    initAudio();\r\n-                    loadGame();\r\n-                };\r\n-                document.head.appendChild(phaserScript);\r\n-            } else {\r\n-                initAudio();\r\n-                loadGame();\r\n-            }\r\n-            \r\n-            function initAudio() {\r\n-                // Mostrar indicador de audio si es necesario\r\n-                if (window.AudioContext || window.webkitAudioContext) {\r\n-                    const audioIndicator = document.getElementById('audio-indicator');\r\n-                    audioIndicator.classList.remove('opacity-0');\r\n-                    \r\n-                    document.addEventListener('click', function() {\r\n-                        audioIndicator.classList.add('opacity-0');\r\n-                        \r\n-                        // Asegurarse de que tanto Howler como Phaser tengan audio\r\n-                        if (window.Howler && Howler.ctx && Howler.ctx.state !== 'running') {\r\n-                            Howler.ctx.resume().catch(function(err) {\r\n-                                console.warn('Error resumiendo contexto de audio:', err);\r\n-                            });\r\n-                        }\r\n-                        \r\n-                        if (window.game && window.game.sound && window.game.sound.context && \r\n-                            window.game.sound.context.state !== 'running') {\r\n-                            window.game.sound.context.resume().catch(function(err) {\r\n-                                console.warn('Error resumiendo contexto de audio de Phaser:', err);\r\n-                            });\r\n-                        }\r\n-                    }, { once: true });\r\n+        document.addEventListener('click', function activateAudio() {\r\n+            // Inicializar contextos de audio si es necesario\r\n+            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n+            if (AudioContext) {\r\n+                const audioContext = new AudioContext();\r\n+                if (audioContext.state !== 'running') {\r\n+                    audioContext.resume().then(() => {\r\n+                        console.log('Contexto de audio activado');\r\n+                    });\r\n                 }\r\n             }\r\n             \r\n-            function loadGame() {\r\n-                // Verificar carga de scripts antes de iniciar el juego\r\n-                const requiredGlobals = ['Phaser', 'Howler'];\r\n-                const missing = requiredGlobals.filter(name => typeof window[name] === 'undefined');\r\n-                \r\n-                if (missing.length > 0) {\r\n-                    console.error('Faltan dependencias:', missing.join(', '));\r\n-                    document.getElementById('loading-text').textContent = \r\n-                        'Error: No se pudieron cargar todas las dependencias. Recarga la página.';\r\n-                    return;\r\n-                }\r\n-                \r\n-                // Carga de app.js con script dinámico para asegurar que se cargue después de dependencias\r\n-                const appScript = document.createElement('script');\r\n-                appScript.src = \"js/app.js\";\r\n-                appScript.type = \"module\";\r\n-                document.body.appendChild(appScript);\r\n-                \r\n-                // Botón de inicio alternativo para desbloquear audio\r\n-                const startButton = document.getElementById('start-button');\r\n-                window.addEventListener('load', function() {\r\n-                    // Si la carga se completa mostrar botón de inicio\r\n-                    startButton.classList.remove('hidden');\r\n-                    startButton.addEventListener('click', function() {\r\n-                        document.getElementById('loading-screen').style.display = 'none';\r\n-                        document.getElementById('audio-indicator').classList.add('opacity-0');\r\n-                        \r\n-                        if (window.Howler && Howler.ctx && Howler.ctx.state !== 'running') {\r\n-                            Howler.ctx.resume().catch(console.error);\r\n-                        }\r\n-                    });\r\n-                });\r\n-            }\r\n+            // Ocultar indicador\r\n+            document.getElementById('audio-indicator').style.opacity = '0';\r\n+            \r\n+            // Remover este listener una vez activado\r\n+            document.removeEventListener('click', activateAudio);\r\n         });\r\n     </script>\r\n \r\n+    <!-- Script del menú principal -->\r\n     <script type=\"module\">\r\n         import { MainMenu } from './js/ui/MainMenu.js';\r\n         \r\n-        // Cuando el DOM esté listo, inicializar el menú\r\n         document.addEventListener('DOMContentLoaded', function() {\r\n             // Crear instancia del menú principal\r\n             const menu = new MainMenu('menu-container');\r\n             \r\n+            // Verificar si necesitamos mostrar el indicador de audio\r\n+            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n+            if (AudioContext && new AudioContext().state !== 'running') {\r\n+                document.getElementById('audio-indicator').classList.add('show');\r\n+            }\r\n+            \r\n             // Exponer la instancia al objeto window para depuración si es necesario\r\n             window.gameMenu = menu;\r\n         });\r\n     </script>\r\n"
                },
                {
                    "date": 1741026786342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,21 +46,31 @@\n \r\n     <!-- Script del menú principal -->\r\n     <script type=\"module\">\r\n         import { MainMenu } from './js/ui/MainMenu.js';\r\n+        import { MenuEffects } from './js/ui/MenuEffects.js';\r\n         \r\n         document.addEventListener('DOMContentLoaded', function() {\r\n             // Crear instancia del menú principal\r\n             const menu = new MainMenu('menu-container');\r\n             \r\n+            // Inicializar efectos adicionales\r\n+            const menuEffects = new MenuEffects('menu-container');\r\n+            \r\n             // Verificar si necesitamos mostrar el indicador de audio\r\n             const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n             if (AudioContext && new AudioContext().state !== 'running') {\r\n                 document.getElementById('audio-indicator').classList.add('show');\r\n             }\r\n             \r\n-            // Exponer la instancia al objeto window para depuración si es necesario\r\n+            // Exponer las instancias al objeto window para depuración\r\n             window.gameMenu = menu;\r\n+            window.menuEffects = menuEffects;\r\n+            \r\n+            // Simulación de interferencia de señal al inicio para efecto dramático\r\n+            setTimeout(() => {\r\n+                menuEffects.simulateSignalInterference(800);\r\n+            }, 1000);\r\n         });\r\n     </script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1741027551370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,27 +3,27 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>Cybervania</title>\r\n+    <!-- Estilos base y mejoras góticas -->\r\n     <link rel=\"stylesheet\" href=\"css/menu.css\">\r\n+    <link rel=\"stylesheet\" href=\"css/menu-gothic-enhancement.css\">\r\n+    <link rel=\"stylesheet\" href=\"css/gothic-effects.css\">\r\n+    \r\n     <!-- Precargar la fuente -->\r\n     <link rel=\"preload\" href=\"assets/fonts/neogothic.woff2\" as=\"font\" type=\"font/woff2\" crossorigin>\r\n     \r\n+    <!-- Fuentes góticas desde Google Fonts -->\r\n+    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n+    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n+    <link href=\"https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&family=Pirata+One&display=swap\" rel=\"stylesheet\">\r\n+    \r\n     <!-- Favicon -->\r\n     <link rel=\"icon\" type=\"image/png\" href=\"assets/images/favicon.png\">\r\n </head>\r\n-<body>\r\n+<body class=\"cursor-gothic\">\r\n     <!-- Audio indicator discreto -->\r\n     <div id=\"audio-indicator\" class=\"notification\" style=\"opacity: 0;\">\r\n-        Haz clic para activar audio\r\n-    </div>\r\n-    \r\n-    <!-- Contenedor principal del menú -->\r\n-    <div id=\"menu-container\">\r\n-        <!-- El menú se generará dinámicamente desde JS -->\r\n-    </div>\r\n-\r\n-    <!-- Script de inicialización de audio -->\r\n     <script>\r\n         document.addEventListener('click', function activateAudio() {\r\n             // Inicializar contextos de audio si es necesario\r\n             const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n"
                },
                {
                    "date": 1741027591398,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,8 +22,17 @@\n </head>\r\n <body class=\"cursor-gothic\">\r\n     <!-- Audio indicator discreto -->\r\n     <div id=\"audio-indicator\" class=\"notification\" style=\"opacity: 0;\">\r\n+        Haz clic para activar audio\r\n+    </div>\r\n+    \r\n+    <!-- Contenedor principal del menú -->\r\n+    <div id=\"menu-container\">\r\n+        <!-- El menú se generará dinámicamente desde JS -->\r\n+    </div>\r\n+\r\n+    <!-- Script de inicialización de audio -->\r\n     <script>\r\n         document.addEventListener('click', function activateAudio() {\r\n             // Inicializar contextos de audio si es necesario\r\n             const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n@@ -47,16 +56,23 @@\n     <!-- Script del menú principal -->\r\n     <script type=\"module\">\r\n         import { MainMenu } from './js/ui/MainMenu.js';\r\n         import { MenuEffects } from './js/ui/MenuEffects.js';\r\n+        import { GothicEffects } from './js/ui/GothicEffects.js';\r\n         \r\n         document.addEventListener('DOMContentLoaded', function() {\r\n             // Crear instancia del menú principal\r\n             const menu = new MainMenu('menu-container');\r\n             \r\n-            // Inicializar efectos adicionales\r\n+            // Inicializar efectos\r\n             const menuEffects = new MenuEffects('menu-container');\r\n+            const gothicEffects = new GothicEffects('menu-container');\r\n             \r\n+            // Aplicar efectos adicionales\r\n+            gothicEffects.applyBloodyText('.menu-screen h3');\r\n+            gothicEffects.applyVHSDistortion('.title-container');\r\n+            gothicEffects.addDarkVignette();\r\n+            \r\n             // Verificar si necesitamos mostrar el indicador de audio\r\n             const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n             if (AudioContext && new AudioContext().state !== 'running') {\r\n                 document.getElementById('audio-indicator').classList.add('show');\r\n@@ -64,13 +80,27 @@\n             \r\n             // Exponer las instancias al objeto window para depuración\r\n             window.gameMenu = menu;\r\n             window.menuEffects = menuEffects;\r\n+            window.gothicEffects = gothicEffects;\r\n             \r\n-            // Simulación de interferencia de señal al inicio para efecto dramático\r\n+            // Efectos de inicio\r\n             setTimeout(() => {\r\n                 menuEffects.simulateSignalInterference(800);\r\n             }, 1000);\r\n+            \r\n+            // Primer relámpago ambiental después de un retraso aleatorio\r\n+            setTimeout(() => {\r\n+                const lightningDiv = document.createElement('div');\r\n+                lightningDiv.className = 'ambient-lightning';\r\n+                document.body.appendChild(lightningDiv);\r\n+                setTimeout(() => {\r\n+                    lightningDiv.classList.add('flash');\r\n+                    setTimeout(() => {\r\n+                        lightningDiv.remove();\r\n+                    }, 1500);\r\n+                }, 100);\r\n+            }, Math.random() * 10000 + 5000);\r\n         });\r\n     </script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1741027886662,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     \r\n     <!-- Fuentes góticas desde Google Fonts -->\r\n     <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n     <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n-    <link href=\"https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&family=Pirata+One&display=swap\" rel=\"stylesheet\">\r\n+    <link href=\"https://fonts.googleapis.com/css2?family=Almendra:wght@400;700&family=Pirata+One&display=swap\" rel=\"stylesheet\">\r\n     \r\n     <!-- Favicon -->\r\n     <link rel=\"icon\" type=\"image/png\" href=\"assets/images/favicon.png\">\r\n </head>\r\n"
                },
                {
                    "date": 1741028004618,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,106 @@\n+<!DOCTYPE html>\r\n+<html lang=\"es\">\r\n+<head>\r\n+    <meta charset=\"UTF-8\">\r\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n+    <title>Cybervania</title>\r\n+    <!-- Estilos base y mejoras góticas -->\r\n+    <link rel=\"stylesheet\" href=\"css/menu.css\">\r\n+    <link rel=\"stylesheet\" href=\"css/menu-gothic-enhancement.css\">\r\n+    <link rel=\"stylesheet\" href=\"css/gothic-effects.css\">\r\n+    \r\n+    <!-- Precargar la fuente -->\r\n+    <link rel=\"preload\" href=\"assets/fonts/neogothic.woff2\" as=\"font\" type=\"font/woff2\" crossorigin>\r\n+    \r\n+    <!-- Fuentes góticas desde Google Fonts -->\r\n+    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n+    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n+    <link href=\"https://fonts.googleapis.com/css2?family=Almendra:wght@400;700&family=Pirata+One&display=swap\" rel=\"stylesheet\">\r\n+    \r\n+    <!-- Favicon -->\r\n+    <link rel=\"icon\" type=\"image/png\" href=\"assets/images/favicon.png\">\r\n+</head>\r\n+<body class=\"cursor-gothic\">\r\n+    <!-- Audio indicator discreto -->\r\n+    <div id=\"audio-indicator\" class=\"notification\" style=\"opacity: 0;\">\r\n+        Haz clic para activar audio\r\n+    </div>\r\n+    \r\n+    <!-- Contenedor principal del menú -->\r\n+    <div id=\"menu-container\">\r\n+        <!-- El menú se generará dinámicamente desde JS -->\r\n+    </div>\r\n+\r\n+    <!-- Script de inicialización de audio -->\r\n+    <script>\r\n+        document.addEventListener('click', function activateAudio() {\r\n+            // Inicializar contextos de audio si es necesario\r\n+            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n+            if (AudioContext) {\r\n+                const audioContext = new AudioContext();\r\n+                if (audioContext.state !== 'running') {\r\n+                    audioContext.resume().then(() => {\r\n+                        console.log('Contexto de audio activado');\r\n+                    });\r\n+                }\r\n+            }\r\n+            \r\n+            // Ocultar indicador\r\n+            document.getElementById('audio-indicator').style.opacity = '0';\r\n+            \r\n+            // Remover este listener una vez activado\r\n+            document.removeEventListener('click', activateAudio);\r\n+        });\r\n+    </script>\r\n+\r\n+    <!-- Script del menú principal -->\r\n+    <script type=\"module\">\r\n+        import { MainMenu } from './js/ui/MainMenu.js';\r\n+        import { MenuEffects } from './js/ui/MenuEffects.js';\r\n+        import { GothicEffects } from './js/ui/GothicEffects.js';\r\n+        \r\n+        document.addEventListener('DOMContentLoaded', function() {\r\n+            // Crear instancia del menú principal\r\n+            const menu = new MainMenu('menu-container');\r\n+            \r\n+            // Inicializar efectos\r\n+            const menuEffects = new MenuEffects('menu-container');\r\n+            const gothicEffects = new GothicEffects('menu-container');\r\n+            \r\n+            // Aplicar efectos adicionales\r\n+            gothicEffects.applyBloodyText('.menu-screen h3');\r\n+            gothicEffects.applyVHSDistortion('.title-container');\r\n+            gothicEffects.addDarkVignette();\r\n+            \r\n+            // Verificar si necesitamos mostrar el indicador de audio\r\n+            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n+            if (AudioContext && new AudioContext().state !== 'running') {\r\n+                document.getElementById('audio-indicator').classList.add('show');\r\n+            }\r\n+            \r\n+            // Exponer las instancias al objeto window para depuración\r\n+            window.gameMenu = menu;\r\n+            window.menuEffects = menuEffects;\r\n+            window.gothicEffects = gothicEffects;\r\n+            \r\n+            // Efectos de inicio\r\n+            setTimeout(() => {\r\n+                menuEffects.simulateSignalInterference(800);\r\n+            }, 1000);\r\n+            \r\n+            // Primer relámpago ambiental después de un retraso aleatorio\r\n+            setTimeout(() => {\r\n+                const lightningDiv = document.createElement('div');\r\n+                lightningDiv.className = 'ambient-lightning';\r\n+                document.body.appendChild(lightningDiv);\r\n+                setTimeout(() => {\r\n+                    lightningDiv.classList.add('flash');\r\n+                    setTimeout(() => {\r\n+                        lightningDiv.remove();\r\n+                    }, 1500);\r\n+                }, 100);\r\n+            }, Math.random() * 10000 + 5000);\r\n+        });\r\n+    </script>\r\n+</body>\r\n+</html>\r\n"
                },
                {
                    "date": 1741029778625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,10 +2,10 @@\n <html lang=\"es\">\r\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n-    <title>Cybervania</title>\r\n-    <!-- Estilos base y mejoras góticas -->\r\n+    <title>Cybervania - Menú Principal</title>\r\n+    <!-- Estilos CSS -->\r\n     <link rel=\"stylesheet\" href=\"css/menu.css\">\r\n     <link rel=\"stylesheet\" href=\"css/menu-gothic-enhancement.css\">\r\n     <link rel=\"stylesheet\" href=\"css/gothic-effects.css\">\r\n     \r\n@@ -30,183 +30,8 @@\n     <div id=\"menu-container\">\r\n         <!-- El menú se generará dinámicamente desde JS -->\r\n     </div>\r\n \r\n-    <!-- Script de inicialización de audio -->\r\n-    <script>\r\n-        document.addEventListener('click', function activateAudio() {\r\n-            // Inicializar contextos de audio si es necesario\r\n-            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n-            if (AudioContext) {\r\n-                const audioContext = new AudioContext();\r\n-                if (audioContext.state !== 'running') {\r\n-                    audioContext.resume().then(() => {\r\n-                        console.log('Contexto de audio activado');\r\n-                    });\r\n-                }\r\n-            }\r\n-            \r\n-            // Ocultar indicador\r\n-            document.getElementById('audio-indicator').style.opacity = '0';\r\n-            \r\n-            // Remover este listener una vez activado\r\n-            document.removeEventListener('click', activateAudio);\r\n-        });\r\n-    </script>\r\n-\r\n-    <!-- Script del menú principal -->\r\n-    <script type=\"module\">\r\n-        import { MainMenu } from './js/ui/MainMenu.js';\r\n-        import { MenuEffects } from './js/ui/MenuEffects.js';\r\n-        import { GothicEffects } from './js/ui/GothicEffects.js';\r\n-        \r\n-        document.addEventListener('DOMContentLoaded', function() {\r\n-            // Crear instancia del menú principal\r\n-            const menu = new MainMenu('menu-container');\r\n-            \r\n-            // Inicializar efectos\r\n-            const menuEffects = new MenuEffects('menu-container');\r\n-            const gothicEffects = new GothicEffects('menu-container');\r\n-            \r\n-            // Aplicar efectos adicionales\r\n-            gothicEffects.applyBloodyText('.menu-screen h3');\r\n-            gothicEffects.applyVHSDistortion('.title-container');\r\n-            gothicEffects.addDarkVignette();\r\n-            \r\n-            // Verificar si necesitamos mostrar el indicador de audio\r\n-            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n-            if (AudioContext && new AudioContext().state !== 'running') {\r\n-                document.getElementById('audio-indicator').classList.add('show');\r\n-            }\r\n-            \r\n-            // Exponer las instancias al objeto window para depuración\r\n-            window.gameMenu = menu;\r\n-            window.menuEffects = menuEffects;\r\n-            window.gothicEffects = gothicEffects;\r\n-            \r\n-            // Efectos de inicio\r\n-            setTimeout(() => {\r\n-                menuEffects.simulateSignalInterference(800);\r\n-            }, 1000);\r\n-            \r\n-            // Primer relámpago ambiental después de un retraso aleatorio\r\n-            setTimeout(() => {\r\n-                const lightningDiv = document.createElement('div');\r\n-                lightningDiv.className = 'ambient-lightning';\r\n-                document.body.appendChild(lightningDiv);\r\n-                setTimeout(() => {\r\n-                    lightningDiv.classList.add('flash');\r\n-                    setTimeout(() => {\r\n-                        lightningDiv.remove();\r\n-                    }, 1500);\r\n-                }, 100);\r\n-            }, Math.random() * 10000 + 5000);\r\n-        });\r\n-    </script>\r\n+    <!-- Scripts -->\r\n+    <script type=\"module\" src=\"js/main.js\"></script>\r\n </body>\r\n </html>\r\n-<!DOCTYPE html>\r\n-<html lang=\"es\">\r\n-<head>\r\n-    <meta charset=\"UTF-8\">\r\n-    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n-    <title>Cybervania</title>\r\n-    <!-- Estilos base y mejoras góticas -->\r\n-    <link rel=\"stylesheet\" href=\"css/menu.css\">\r\n-    <link rel=\"stylesheet\" href=\"css/menu-gothic-enhancement.css\">\r\n-    <link rel=\"stylesheet\" href=\"css/gothic-effects.css\">\r\n-    \r\n-    <!-- Precargar la fuente -->\r\n-    <link rel=\"preload\" href=\"assets/fonts/neogothic.woff2\" as=\"font\" type=\"font/woff2\" crossorigin>\r\n-    \r\n-    <!-- Fuentes góticas desde Google Fonts -->\r\n-    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n-    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n-    <link href=\"https://fonts.googleapis.com/css2?family=Almendra:wght@400;700&family=Pirata+One&display=swap\" rel=\"stylesheet\">\r\n-    \r\n-    <!-- Favicon -->\r\n-    <link rel=\"icon\" type=\"image/png\" href=\"assets/images/favicon.png\">\r\n-</head>\r\n-<body class=\"cursor-gothic\">\r\n-    <!-- Audio indicator discreto -->\r\n-    <div id=\"audio-indicator\" class=\"notification\" style=\"opacity: 0;\">\r\n-        Haz clic para activar audio\r\n-    </div>\r\n-    \r\n-    <!-- Contenedor principal del menú -->\r\n-    <div id=\"menu-container\">\r\n-        <!-- El menú se generará dinámicamente desde JS -->\r\n-    </div>\r\n-\r\n-    <!-- Script de inicialización de audio -->\r\n-    <script>\r\n-        document.addEventListener('click', function activateAudio() {\r\n-            // Inicializar contextos de audio si es necesario\r\n-            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n-            if (AudioContext) {\r\n-                const audioContext = new AudioContext();\r\n-                if (audioContext.state !== 'running') {\r\n-                    audioContext.resume().then(() => {\r\n-                        console.log('Contexto de audio activado');\r\n-                    });\r\n-                }\r\n-            }\r\n-            \r\n-            // Ocultar indicador\r\n-            document.getElementById('audio-indicator').style.opacity = '0';\r\n-            \r\n-            // Remover este listener una vez activado\r\n-            document.removeEventListener('click', activateAudio);\r\n-        });\r\n-    </script>\r\n-\r\n-    <!-- Script del menú principal -->\r\n-    <script type=\"module\">\r\n-        import { MainMenu } from './js/ui/MainMenu.js';\r\n-        import { MenuEffects } from './js/ui/MenuEffects.js';\r\n-        import { GothicEffects } from './js/ui/GothicEffects.js';\r\n-        \r\n-        document.addEventListener('DOMContentLoaded', function() {\r\n-            // Crear instancia del menú principal\r\n-            const menu = new MainMenu('menu-container');\r\n-            \r\n-            // Inicializar efectos\r\n-            const menuEffects = new MenuEffects('menu-container');\r\n-            const gothicEffects = new GothicEffects('menu-container');\r\n-            \r\n-            // Aplicar efectos adicionales\r\n-            gothicEffects.applyBloodyText('.menu-screen h3');\r\n-            gothicEffects.applyVHSDistortion('.title-container');\r\n-            gothicEffects.addDarkVignette();\r\n-            \r\n-            // Verificar si necesitamos mostrar el indicador de audio\r\n-            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n-            if (AudioContext && new AudioContext().state !== 'running') {\r\n-                document.getElementById('audio-indicator').classList.add('show');\r\n-            }\r\n-            \r\n-            // Exponer las instancias al objeto window para depuración\r\n-            window.gameMenu = menu;\r\n-            window.menuEffects = menuEffects;\r\n-            window.gothicEffects = gothicEffects;\r\n-            \r\n-            // Efectos de inicio\r\n-            setTimeout(() => {\r\n-                menuEffects.simulateSignalInterference(800);\r\n-            }, 1000);\r\n-            \r\n-            // Primer relámpago ambiental después de un retraso aleatorio\r\n-            setTimeout(() => {\r\n-                const lightningDiv = document.createElement('div');\r\n-                lightningDiv.className = 'ambient-lightning';\r\n-                document.body.appendChild(lightningDiv);\r\n-                setTimeout(() => {\r\n-                    lightningDiv.classList.add('flash');\r\n-                    setTimeout(() => {\r\n-                        lightningDiv.remove();\r\n-                    }, 1500);\r\n-                }, 100);\r\n-            }, Math.random() * 10000 + 5000);\r\n-        });\r\n-    </script>\r\n-</body>\r\n-</html>\r\n"
                },
                {
                    "date": 1741032175341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,9 @@\n     <!-- Estilos CSS -->\r\n     <link rel=\"stylesheet\" href=\"css/menu.css\">\r\n     <link rel=\"stylesheet\" href=\"css/menu-gothic-enhancement.css\">\r\n     <link rel=\"stylesheet\" href=\"css/gothic-effects.css\">\r\n+    <link rel=\"stylesheet\" href=\"css/language-specific.css\">\r\n     \r\n     <!-- Precargar la fuente -->\r\n     <link rel=\"preload\" href=\"assets/fonts/neogothic.woff2\" as=\"font\" type=\"font/woff2\" crossorigin>\r\n     \r\n@@ -19,9 +20,9 @@\n     \r\n     <!-- Favicon -->\r\n     <link rel=\"icon\" type=\"image/png\" href=\"assets/images/favicon.png\">\r\n </head>\r\n-<body class=\"cursor-gothic\">\r\n+<body class=\"cursor-gothic lang-es\">\r\n     <!-- Audio indicator discreto -->\r\n     <div id=\"audio-indicator\" class=\"notification\" style=\"opacity: 0;\">\r\n         Haz clic para activar audio\r\n     </div>\r\n"
                }
            ],
            "date": 1741025960082,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n    <title>Cybervania</title>\r\n    <link rel=\"stylesheet\" href=\"css/main.css\">\r\n    <link rel=\"stylesheet\" href=\"css/menu.css\">\r\n    \r\n    <!-- Disable Tailwind warning about production use -->\r\n    <script>window.tailwindConfig = { hideConfigWorkerWarning: true }</script>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    \r\n    <!-- External libraries sin integrity check para evitar problemas -->\r\n    <script src=\"https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js\"></script>\r\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js\"></script>\r\n    \r\n    <!-- Preconectar a dominios externos -->\r\n    <link rel=\"preconnect\" href=\"https://cdn.jsdelivr.net\">\r\n    <link rel=\"preconnect\" href=\"https://cdnjs.cloudflare.com\">\r\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n    <!-- Precargar la fuente -->\r\n    <link rel=\"preload\" href=\"assets/fonts/neogothic.woff2\" as=\"font\" type=\"font/woff2\" crossorigin>\r\n</head>\r\n<body class=\"bg-black text-white overflow-hidden\">\r\n    <!-- Audio context unlock indicator -->\r\n    <div id=\"audio-indicator\" class=\"fixed top-2 right-2 bg-red-800 text-white px-4 py-2 rounded opacity-0 transition-opacity duration-500\">\r\n        Haz clic para activar audio\r\n    </div>\r\n    \r\n    <div id=\"game-container\" class=\"w-full h-screen flex justify-center items-center\">\r\n        <!-- El juego se renderizará aquí -->\r\n    </div>\r\n    \r\n    <div id=\"loading-screen\" class=\"fixed top-0 left-0 w-full h-full bg-black flex justify-center items-center z-50\">\r\n        <div class=\"text-center\">\r\n            <h1 class=\"text-4xl font-gothic mb-4 text-red-600\">CYBERVANIA</h1>\r\n            <div class=\"w-64 h-4 bg-gray-800 rounded-full\">\r\n                <div id=\"loading-bar\" class=\"h-4 bg-red-600 rounded-full\" style=\"width: 0%\"></div>\r\n            </div>\r\n            <p id=\"loading-text\" class=\"mt-2 text-gray-400\">Cargando...</p>\r\n            <button id=\"start-button\" class=\"hidden mt-4 px-4 py-2 bg-red-800 text-white rounded\">\r\n                Iniciar Juego\r\n            </button>\r\n        </div>\r\n    </div>\r\n    \r\n    <div id=\"menu-container\">\r\n        <!-- El menú se generará dinámicamente desde JS -->\r\n    </div>\r\n\r\n    <!-- Script para activar audio -->\r\n    <script>\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n            // Verificar que Phaser esté cargado\r\n            if (typeof Phaser === 'undefined') {\r\n                console.error('Phaser no está cargado correctamente. Reintentando...');\r\n                // Cargar Phaser dinámicamente como último recurso\r\n                const phaserScript = document.createElement('script');\r\n                phaserScript.src = \"https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js\";\r\n                phaserScript.onload = function() {\r\n                    console.log('Phaser cargado manualmente');\r\n                    initAudio();\r\n                    loadGame();\r\n                };\r\n                document.head.appendChild(phaserScript);\r\n            } else {\r\n                initAudio();\r\n                loadGame();\r\n            }\r\n            \r\n            function initAudio() {\r\n                // Mostrar indicador de audio si es necesario\r\n                if (window.AudioContext || window.webkitAudioContext) {\r\n                    const audioIndicator = document.getElementById('audio-indicator');\r\n                    audioIndicator.classList.remove('opacity-0');\r\n                    \r\n                    document.addEventListener('click', function() {\r\n                        audioIndicator.classList.add('opacity-0');\r\n                        \r\n                        // Asegurarse de que tanto Howler como Phaser tengan audio\r\n                        if (window.Howler && Howler.ctx && Howler.ctx.state !== 'running') {\r\n                            Howler.ctx.resume().catch(function(err) {\r\n                                console.warn('Error resumiendo contexto de audio:', err);\r\n                            });\r\n                        }\r\n                        \r\n                        if (window.game && window.game.sound && window.game.sound.context && \r\n                            window.game.sound.context.state !== 'running') {\r\n                            window.game.sound.context.resume().catch(function(err) {\r\n                                console.warn('Error resumiendo contexto de audio de Phaser:', err);\r\n                            });\r\n                        }\r\n                    }, { once: true });\r\n                }\r\n            }\r\n            \r\n            function loadGame() {\r\n                // Verificar carga de scripts antes de iniciar el juego\r\n                const requiredGlobals = ['Phaser', 'Howler'];\r\n                const missing = requiredGlobals.filter(name => typeof window[name] === 'undefined');\r\n                \r\n                if (missing.length > 0) {\r\n                    console.error('Faltan dependencias:', missing.join(', '));\r\n                    document.getElementById('loading-text').textContent = \r\n                        'Error: No se pudieron cargar todas las dependencias. Recarga la página.';\r\n                    return;\r\n                }\r\n                \r\n                // Carga de app.js con script dinámico para asegurar que se cargue después de dependencias\r\n                const appScript = document.createElement('script');\r\n                appScript.src = \"js/app.js\";\r\n                appScript.type = \"module\";\r\n                document.body.appendChild(appScript);\r\n                \r\n                // Botón de inicio alternativo para desbloquear audio\r\n                const startButton = document.getElementById('start-button');\r\n                window.addEventListener('load', function() {\r\n                    // Si la carga se completa mostrar botón de inicio\r\n                    startButton.classList.remove('hidden');\r\n                    startButton.addEventListener('click', function() {\r\n                        document.getElementById('loading-screen').style.display = 'none';\r\n                        document.getElementById('audio-indicator').classList.add('opacity-0');\r\n                        \r\n                        if (window.Howler && Howler.ctx && Howler.ctx.state !== 'running') {\r\n                            Howler.ctx.resume().catch(console.error);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    </script>\r\n\r\n    <script type=\"module\">\r\n        import { MainMenu } from './js/ui/MainMenu.js';\r\n        \r\n        // Cuando el DOM esté listo, inicializar el menú\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n            // Crear instancia del menú principal\r\n            const menu = new MainMenu('menu-container');\r\n            \r\n            // Exponer la instancia al objeto window para depuración si es necesario\r\n            window.gameMenu = menu;\r\n        });\r\n    </script>\r\n</body>\r\n</html>\r\n"
        }
    ]
}